<!--
Static PasteBin — Fully Interactive Doxbin Clone (Static HTML + CSS)
- Categories clickable
- Users clickable to profile pages
- Paste titles clickable, open in modal overlay
- Only titles shown on main page
-->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Static PasteBin — Doxbin Clone</title>
<link rel="stylesheet" href="style.css">
<style>
/* Modal Styles */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}
.modal-content {
  background-color: #222;
  padding: 20px;
  border-radius: 8px;
  width: 80%;
  max-width: 800px;
  overflow-y: auto;
  color: #eee;
}
.close {
  position: absolute;
  top: 10px;
  right: 10px;
  color: #eee;
  font-size: 24px;
  cursor: pointer;
}
/* Hide pre on main page */
.paste pre { display: none; }
</style>
</head>
<body>
<header>
  <div class="header-container">
    <h1>Static PasteBin</h1>
    <span class="subtitle">Doxbin Clone</span>
  </div>
</header>
<div class="container">
  <nav>
    <h2>Menu</h2>
    <div class="search">
      <input placeholder="Search pastes" oninput="filterPastes(this.value)">
    </div>
    <hr>
    <h2>Users</h2>
    <div class="users">
      <a href="user.html?username=Admin"><p>Admin</p></a>
      <a href="user.html?username=Guest1"><p>Guest1</p></a>
      <a href="user.html?username=Guest2"><p>Guest2</p></a>
      <a href="user.html?username=DevUser"><p>DevUser</p></a>
    </div>
    <hr>
    <h2>Categories</h2>
    <div>
      <a href="#category=General"><p>General</p></a>
      <a href="#category=Scripts"><p>Scripts</p></a>
      <a href="#category=Snippets"><p>Snippets</p></a>
      <a href="#category=Security"><p>Security</p></a>
    </div>
  </nav>
  <main>
    <h2>Pastes</h2>
    <div id="pasteList">
      <div class="paste" data-title="Hello World JS" data-category="Scripts" data-author="Admin">
        <div class="title"><a href="#" onclick="openPasteModal('Hello World JS')">Hello World JS</a></div>
        <div class="meta">Author: Admin | Category: Scripts | Date: 2025-10-13</div>
        <pre>console.log('Hello World');</pre>
      </div>
      <div class="paste" data-title="Python Snippet" data-category="Snippets" data-author="DevUser">
        <div class="title"><a href="#" onclick="openPasteModal('Python Snippet')">Python Snippet</a></div>
        <div class="meta">Author: DevUser | Category: Snippets | Date: 2025-10-12</div>
        <pre>def greet(name):
    return f"Hello, {name}!"

print(greet("Alice"))</pre>
      </div>
      <div class="paste" data-title="Security Notes" data-category="Security" data-author="Guest1">
        <div class="title"><a href="#" onclick="openPasteModal('Security Notes')">Security Notes</a></div>
        <div class="meta">Author: Guest1 | Category: Security | Date: 2025-10-11</div>
        <pre># Remember to always sanitize user input
user_input = input("Enter value: ")</pre>
      </div>
      <div class="paste" data-title="HTML Boilerplate" data-category="General" data-author="Admin">
        <div class="title"><a href="#" onclick="openPasteModal('HTML Boilerplate')">HTML Boilerplate</a></div>
        <div class="meta">Author: Admin | Category: General | Date: 2025-10-10</div>
        <pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
      </div>
    </div>
  </main>
</div>
<script>
function filterPastes(term) {
  const categoryFilter = new URLSearchParams(window.location.hash.substring(1)).get('category');
  term = term.toLowerCase();
  document.querySelectorAll('.paste').forEach(p => {
    const title = p.dataset.title.toLowerCase();
    const category = p.dataset.category.toLowerCase();
    const author = p.dataset.author.toLowerCase();
    const content = p.querySelector('pre').textContent.toLowerCase();
    const matchesCategory = categoryFilter ? category.includes(categoryFilter.toLowerCase()) : true;
    if ((title.includes(term) || category.includes(term) || author.includes(term) || content.includes(term)) && matchesCategory) {
      p.style.display = 'block';
    } else {
      p.style.display = 'none';
    }
  });
}

function openPasteModal(title) {
  const paste = document.querySelector(`.paste[data-title='${title}']`);
  const content = paste.querySelector('pre').textContent;
  const modal = document.createElement('div');
  modal.classList.add('modal');
  modal.innerHTML = `
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2>${title}</h2>
      <pre>${content}</pre>
    </div>
  `;
  document.body.appendChild(modal);
}

function closeModal() {
  const modal = document.querySelector('.modal');
  if (modal) modal.remove();
}
</script>
</body>
</html>
